{"ast":null,"code":"var _jsxFileName = \"/home/beleshivprasad/Desktop/inhouse_internship/source_code/src/Pages/Payments/PaymentPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button, Col, Container, Row, Table } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport MainScreen from \"../../Components/MainScreen\";\nimport Loading from \"../../Components/Loading\";\nimport ErrorMessage from \"../../Components/ErrorMessage\";\nimport SuccessMessage from \"../../Components/SuccessMessage\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PaymentPage = () => {\n  _s();\n\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [data, setData] = useState(JSON.parse(localStorage.getItem(\"student\")));\n  const [fname, setFname] = useState(data.fname);\n  const [lname, setLname] = useState(data.lname);\n  const [email, setEmail] = useState(data.email);\n  const [phone, setPhone] = useState(data.phone);\n  const [show, setShow] = useState(second);\n  data.paymentDone === true ? history.push(\"/status\") : history.push(\"/payment\");\n\n  const loadScript = src => {\n    return new Promise(resolve => {\n      const script = document.createElement(\"script\");\n      script.src = src;\n\n      script.onload = () => {\n        resolve(true);\n      };\n\n      script.onerror = () => {\n        resolve(false);\n      };\n\n      document.body.appendChild(script);\n    });\n  };\n\n  const displayRazorpay = async e => {\n    e.preventDefault();\n    const res = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n\n    if (!res) {\n      setError(\"Failed Loading Razorpay\");\n    } else {\n      try {\n        const config = {\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        };\n        setLoading(true);\n        const {\n          data\n        } = await axios.post(\"/student/razorpay\", config);\n        console.log(data);\n        setLoading(false);\n      } catch (error) {\n        setError(error.response.data.message);\n        setLoading(false);\n        setTimeout(() => {\n          setError(false);\n        }, 3000);\n      }\n\n      const options = {\n        key: \"rzp_test_T2w19cF6gqmZQa\",\n        amount: 100 * 1000,\n        currency: \"INR\",\n        name: \"Walchand Collge of Engineering, Sangli\",\n        description: \"Spot Round Fee Payment\",\n        image: \"https://img.collegepravesh.com/2018/11/WCE-Sangli-Logo.png\",\n        order_id: data.id,\n        //This is a sample Order ID. Pass the `id` obtained in the previous step\n        handler: function (response) {\n          console.log(response);\n          alert(response.razorpay_payment_id);\n          alert(response.razorpay_order_id);\n          alert(response.razorpay_signature);\n        },\n        prefill: {\n          name: `${fname} ${lname}`,\n          email: email,\n          contact: `91${phone}`\n        },\n        notes: {\n          address: \"Razorpay Corporate Office\"\n        },\n        theme: {\n          color: \"#3399cc\"\n        }\n      };\n      const rzp = new window.Razorpay(options);\n      rzp.open();\n      e.preventDefault();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainScreen, {\n    title: \"Spot Round Fee Payment\",\n    children: [error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(SuccessMessage, {\n      variant: \"success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PaymentPage, \"kZBfX61YakBHEezmUnc+umW6ydk=\", false, function () {\n  return [useHistory];\n});\n\n_c = PaymentPage;\nexport default PaymentPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentPage\");","map":{"version":3,"sources":["/home/beleshivprasad/Desktop/inhouse_internship/source_code/src/Pages/Payments/PaymentPage.js"],"names":["React","useState","Button","Col","Container","Row","Table","useHistory","MainScreen","Loading","ErrorMessage","SuccessMessage","axios","PaymentPage","history","loading","setLoading","error","setError","success","setSuccess","data","setData","JSON","parse","localStorage","getItem","fname","setFname","lname","setLname","email","setEmail","phone","setPhone","show","setShow","second","paymentDone","push","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","displayRazorpay","e","preventDefault","res","config","headers","post","console","log","response","message","setTimeout","options","key","amount","currency","name","description","image","order_id","id","handler","alert","razorpay_payment_id","razorpay_order_id","razorpay_signature","prefill","contact","notes","address","theme","color","rzp","window","Razorpay","open"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Col, Container, Row, Table } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport MainScreen from \"../../Components/MainScreen\";\nimport Loading from \"../../Components/Loading\";\nimport ErrorMessage from \"../../Components/ErrorMessage\";\nimport SuccessMessage from \"../../Components/SuccessMessage\";\nimport axios from \"axios\";\n\nconst PaymentPage = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [data, setData] = useState(JSON.parse(localStorage.getItem(\"student\")));\n  const [fname, setFname] = useState(data.fname);\n  const [lname, setLname] = useState(data.lname);\n  const [email, setEmail] = useState(data.email);\n  const [phone, setPhone] = useState(data.phone);\n\n  const [show, setShow] = useState(second);\n\n  data.paymentDone === true\n    ? history.push(\"/status\")\n    : history.push(\"/payment\");\n\n  const loadScript = (src) => {\n    return new Promise((resolve) => {\n      const script = document.createElement(\"script\");\n      script.src = src;\n      script.onload = () => {\n        resolve(true);\n      };\n      script.onerror = () => {\n        resolve(false);\n      };\n      document.body.appendChild(script);\n    });\n  };\n\n  const displayRazorpay = async (e) => {\n    e.preventDefault();\n    const res = await loadScript(\n      \"https://checkout.razorpay.com/v1/checkout.js\"\n    );\n    if (!res) {\n      setError(\"Failed Loading Razorpay\");\n    } else {\n      try {\n        const config = {\n          headers: {\n            \"Content-type\": \"application/json\",\n          },\n        };\n\n        setLoading(true);\n        const { data } = await axios.post(\"/student/razorpay\", config);\n        console.log(data);\n        setLoading(false);\n      } catch (error) {\n        setError(error.response.data.message);\n        setLoading(false);\n        setTimeout(() => {\n          setError(false);\n        }, 3000);\n      }\n      const options = {\n        key: \"rzp_test_T2w19cF6gqmZQa\",\n        amount: 100 * 1000,\n        currency: \"INR\",\n        name: \"Walchand Collge of Engineering, Sangli\",\n        description: \"Spot Round Fee Payment\",\n        image: \"https://img.collegepravesh.com/2018/11/WCE-Sangli-Logo.png\",\n        order_id: data.id, //This is a sample Order ID. Pass the `id` obtained in the previous step\n        handler: function (response) {\n          console.log(response);\n          alert(response.razorpay_payment_id);\n          alert(response.razorpay_order_id);\n          alert(response.razorpay_signature);\n        },\n        prefill: {\n          name: `${fname} ${lname}`,\n          email: email,\n          contact: `91${phone}`,\n        },\n        notes: {\n          address: \"Razorpay Corporate Office\",\n        },\n        theme: {\n          color: \"#3399cc\",\n        },\n      };\n      const rzp = new window.Razorpay(options);\n      rzp.open();\n      e.preventDefault();\n    }\n  };\n  return (\n    <MainScreen title={\"Spot Round Fee Payment\"}>\n      {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\n      {success && <SuccessMessage variant=\"success\">{success}</SuccessMessage>}\n      {loading && <Loading></Loading>}\n      <Container fluid>\n        {\n\n        }\n      </Container>\n    </MainScreen>\n  );\n};\n\nexport default PaymentPage;\n"]},"metadata":{},"sourceType":"module"}